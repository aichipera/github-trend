> **译者注** : **✒️RISC-V 迈向主流，RVA23 规范吹响冲锋号！🚀**
>
> 这不仅仅是一次版本更新，更是 RISC-V 发展史上的一个重要里程碑。它发出了一个再明确不过的信号：**RISC-V 正全力以赴地从过去以嵌入式和定制化为主的“碎片化”市场，阔步迈向需要广泛二进制兼容性的主流应用领域，如服务器 🖥️、桌面 💻 和移动设备 📱。**
>
> 其中最重磅的变革，莫过于将向量（Vector）扩展正式列为**强制要求**！💪 这一决策，犹如为 RISC-V 在 AI 和高性能计算的赛道上装上了强力引擎，竞争力瞬间拉满。
>
> **RVA23 的意义远不止于纸面：**
> *   对硬件厂商而言，它是一份清晰的 **发展蓝图** 🗺️。
> *   对操作系统、编译器和应用开发者而言，它是一剂注入灵魂的 **强心针** 💉。
>
> 总而言之，一个更加统一、强大、标准化的 RISC-V 软件黄金时代，正加速到来！✨

# RVA23 配置文件详解

## RVA Profile 的设计理念

RISC-V 的设计初衷是提供一个高度模块化和可扩展的指令集，它包含了一系列庞大且不断增长的标准扩展，每个标准扩展都是一组指令集特性的集合。这一点与其他行业内的 ISA 并无不同，它们也都在持续地增加新的 ISA 特性。然而，RISC-V 的独特之处在于它拥有广泛的贡献者和实现者，并且允许用户添加自己的自定义扩展。

对于某些深度嵌入式市场而言，为了追求效率，高度定制化的处理器配置是理想的选择，所有软件都由同一组织针对该特定处理器配置进行编译、移植或内部开发。但对于另一些市场，它们期望大部分软件以二进制形式交付给最终客户，这就要求来自不同 RISC-V 供应商的多种实现之间必须具备兼容性。

RISC-V 国际基金会（RVIA）的 ISA 扩展批准流程确保了所有处理器供应商在实现某个标准扩展时，都遵循共同的规范。然而，ISA 扩展规范本身并不能保证所有实现都会包含某一组特定的标准扩展。

**因此，RVA Profile 的核心目标是协调面向二进制软件市场的处理器供应商，使软件能够依赖于特定代次的 RISC-V 实现中存在的一组确定的 ISA 特性。**

这种协调不仅是为了兼容性，也是为了确保 RISC-V 在这些市场中具有竞争力。二进制应用市场通常也是性能要求最激烈的市场（例如，移动、客户端、服务器）。RVIA 无法强制规定一个 RISC-V 二进制软件生态系统应该使用哪些 ISA 特性，因为每个生态系统通常会选择他们在目标市场已部署设备中根据经验观察到的“最小公分母”。但是，RVIA 可以通过 RVA Profile 来协调硬件供应商，使每一代产品都支持一套通用的特性。

如果没有通过 RVA Profile 进行前瞻性的协调，RISC-V 将会缺乏竞争力。因为即使某个供应商实现了某个特性，如果其他供应商没有实现，那么二进制发行版通常就不会使用该特性，最终导致所有实现都无法受益。虽然某些特性可以通过运行时发现（discoverable），并为特性的存在与否提供备用代码路径，但支持这种选项的额外成本只有在少数有限的情况下才是合理的。二进制应用市场，尤其对于初生的 RISC-V 二进制应用生态系统而言，不会支持大量可选特性。

为了保持协调性并随着时间的推移增强 RISC-V 的竞争力，强制性扩展集必须在后续的 RVA Profile 代次中不断增加。（RVA Profile 最终可能也需要废弃一些曾经的强制性指令，但这在短期内不太可能发生。）值得注意的是，无论某个软件生态系统是否将某一代 Profile 作为其基准并沿用数年甚至数十年，RISC-V ISA 本身都将持续演进。现存的许多二进制软件生态系统将迁移到 RISC-V 并以不同速度演进，而在 RISC-V 可预期的漫长生命周期中，无疑还会有更多新的生态系统诞生。高性能应用处理器需要巨大的投资，没有哪个单一的二进制应用生态系统能够独立承担这些处理器的开发成本，尤其是在 RISC-V 发展的早期阶段。

虽然 Profile 的核心是强制性扩展集，但也有几种可选扩展在 Profile 中扮演着重要角色。

第一种是**地域性可选扩展 (localized options)**，其存在或使用必然因地缘政治和/或司法管辖区的界限而异，加密扩展是典型的例子。这类扩展将永远是可选的。至少对于加密而言，在其他架构上，通过运行时发现机制来处理这种可选性已被证明是完全可以接受的，因为这些扩展的使用被很好地限制在特定的库中。

第二种是**发展中可选扩展 (development options)**，它代表了一个处于生命周期早期的新 ISA 扩展，但计划在未来某个代次的 RVA Profile 中成为强制性扩展。处理器供应商和软件工具链提供商的开发进度各不相同，在新扩展的生命周期中提供一个可选阶段，可以在保持整体协调性的同时提供一定的灵活性，这对于硬件或软件开发较为复杂的扩展尤其适用。将一个扩展标记为“发展中可选”，是向社区发出信号：应优先为这些未来将成为强制性的扩展进行开发。

第三种是**扩展性可选扩展 (expansion options)**，这类扩展可能实现成本高昂，但在特定平台中并非总是需要，并且可以很方便地通过运行时发现来处理。它们在未来的 Profile 版本中也打算继续作为扩展性选项存在。一些监督者模式（supervisor-mode）的扩展就属于这一类，例如 Sv57，它相对于 Sv48 在功耗、性能和面积（PPA）上有显著影响，但在较小的平台上并不需要。一些可能属于此类的非特权扩展是未来的矩阵（matrix）扩展。它们的实现成本高昂，而矩阵指令的使用可以很方便地通过运行时发现和备用数学库来支持。

第四种是**过渡性可选扩展 (transitory options)**，这类扩展尚不确定未来会转变为强制性、地域性还是扩展性选项，或者可能随着时间的推移被移除。密码学提供了一些例子，早期的加密算法被破解后现已被弃用。RVIA 曾使用此机制来支持标量加密，直到向量加密准备就绪。软件安全特性也可能属于此类，其他架构中也出现过安全特性被弃用的例子。再比如，近期涌现出的大量用于 AI/ML 的新数值数据类型，最终可能只有少数幸存者被长期使用。将一个选项标记为“过渡性”，是向社区发出信号：该扩展可能会在未来的 Profile 中被移除，尽管时间跨度可能长达数年。

除了地域性选项外，有人可能会说其他三种可选扩展可以不包含在 Profile 中。愿意投资于运行时发现机制的二进制应用发行版可以使用可选扩展，而自己编译应用的客户则可以在特定实现上利用该特性，即使该系统主要运行的是忽略该新扩展的二进制发行版。然而，通过将少数重要特性指定为 Profile 选项并限制其粒度，可以为硬件供应商和软件开发者提供指导，让他们明确哪些扩展值得实现、哪些值得去发现，这依然具有重要价值。

## Profile 定义的扩展

与早期的 Profile 一样，本 Profile 在其文本中直接定义了几个新的扩展。这些“Profile 定义的扩展”为那些在已批准的规范中存在，但之前未被明确命名的可选特性或特性组合提供了名称。一旦 Profile 被批准，这些扩展定义将移至合并后的 ISA 手册的相应章节中。在定义本 Profile 之初，合并后的 ISA 手册尚不可用。未来的 Profile 提案将作为对合并后 ISA 手册的更新来呈现，新的 Profile 定义扩展将作为对合并后 ISA 手册相应章节的编辑来提供。

## RVA23 Profiles

RVA23 Profile 旨在协调 64 位应用处理器的实现，以便二进制软件生态系统可以依赖于一大组有保障的扩展和少量可通过运行时发现的粗粒度选项。RVA23 的一个明确的“非目标”是：不支持仅包含最小特性集和大量细粒度扩展的、旨在追求更大硬件实现灵活性的方案。

本系列只规定了用户模式（RVA23U64）和监督者模式（RVA23S64）的 Profile。

### RVA23U64 Profile

RVA23U64 Profile 规定了在 64 位应用处理器中，可用于用户模式执行环境的 ISA 特性。就目标软件数量而言，这是应用处理器系列中最重要的 Profile。

#### RVA23U64 强制基础

RV64I 是 RVA23U64 的强制基础 ISA，并采用小端（little-endian）字节序。根据非特权架构规范，`ECALL` 指令会向执行环境请求一次陷入（trap）。

#### RVA23U64 强制扩展

以下是继承自 RVA22U64 的强制扩展：

- **M**: 整数乘法和除法。
- **A**: 原子指令。
- **F**: 单精度浮点指令。
- **D**: 双精度浮点指令。
- **C**: 压缩指令。
- **B**: 位操作指令。
- **Zicsr**: CSR 指令。F 扩展的存在即意味着包含此扩展。
- **Zicntr**: 基础计数器和计时器。
- **Zihpm**: 硬件性能计数器。
- **Ziccif**: 具有可缓存性和一致性 PMA 属性的主内存区域必须支持指令获取，并且任何大小为 2 的幂且不超过 `min(ILEN, XLEN)`（对于 RVA23 即 32 位）的自然对齐的指令获取都是原子的。
- **Ziccrse**: 具有可缓存性和一致性 PMA 属性的主内存区域必须支持 `RsrvEventual`。
- **Ziccamoa**: 具有可缓存性和一致性 PMA 属性的主内存区域必须支持 A 扩展中的所有原子操作。
- **Zicclsm**: 必须支持对具有可缓存性和一致性 PMA 属性的主内存区域进行非对齐的加载和存储。
- **Za64rs**: 预留集（Reservation sets）是连续的、自然对齐的，且最大为 64 字节。
- **Zihintpause**: 暂停提示指令。
- **Zic64b**: 缓存块大小必须为 64 字节，并在地址空间中自然对齐。
- **Zicbom**: 缓存块管理指令。
- **Zicbop**: 缓存块预取指令。
- **Zicboz**: 缓存块清零指令。
- **Zfhmin**: 半精度浮点指令（最小集）。
- **Zkt**: 数据执行时序无关（Data-independent execution latency）。

以下是 RVA23U64 中新增的强制扩展：

- **V**: 向量扩展。
  > 注意：V 扩展在 RVA22U64 中是可选的。

- **Zvfhmin**: 向量半精度浮点（最小集）。

- **Zvbb**: 向量基础位操作指令。

- **Zvkt**: 向量数据执行时序无关。

- **Zihintntl**: 非暂存局部性提示（Non-temporal locality hints）。

- **Zicond**: 整数条件操作。

- **Zimop**: 可能操作（May-be-operations）。

- **Zcmop**: 压缩的可能操作。

- **Zcb**: 附加的压缩指令。

- **Zfa**: 附加的浮点指令。

- **Zawrs**: 等待预留集（Wait-on-reservation-set）指令。

- **Supm**: 指针屏蔽（Pointer masking），执行环境至少需提供选择 `PMLEN=0` 和 `PMLEN=7` 的方式。

#### RVA23U64 可选扩展

##### 地域性可选扩展

以下是 RVA23U64 中新增的地域性可选扩展：

- **Zvkng**: 向量加密（NIST 算法，含 GCM）。
- **Zvksg**: 向量加密（国密算法，含 GCM）。

> 注意：在 RVA22 中作为选项的标量加密扩展 Zkn 和 Zks，在 RVA23 中不再是选项。目标是推动硬件和软件供应商转向使用向量加密，因为向量扩展现已成为强制性要求，且向量加密比标量加密快得多。

> 注意：我们仅包含了带 GCM 的 Zvkng/Zvksg 选项，以标准化更高性能的加密方案。Zvbc 被列为用于其他算法的“发展中可选扩展”，未来将成为强制性扩展。而标量 Zbc 现在被列为“扩展性可选扩展”，意味着它很可能不会成为强制性扩展。

##### 发展中可选扩展

以下是新增的“发展中可选扩展”，旨在未来某个 RVA Profile 版本中成为强制性扩展：

- **Zabha**: 字节和半字原子内存操作。
- **Zacas**: 比较并交换（Compare-and-Swap）指令。
- **Ziccamoc**: 具有可缓存性和一致性 PMA 属性的主内存区域必须提供 `AMOCASQ` 级别的 PMA 支持。
  > 注意：Ziccamoc 是一个新的 Profile 定义扩展，确保“比较并交换”指令在主内存区域得到妥善支持。该扩展将添加到特权架构手册的 PMA 部分。

- **Zvbc**: 向量无进位乘法。
- **Zama16b**: 对主内存区域的、不跨越 16 字节自然对齐边界的非对齐加载、存储和原子内存操作（AMO）是原子的。
  > 注意：Zama16b 是一个新的 Profile 定义扩展，代表了 Sm1p13 中新增的“非对齐原子性粒度”特性。该扩展将添加到特权架构手册的 PMA 部分。

##### 扩展性可选扩展

以下是继承自 RVA22U64 的扩展性可选扩展：

- **Zfh**: 标量半精度浮点。

以下是 RVA23U64 中新增的扩展性可选扩展：

- **Zbc**: 标量无进位乘法。
- **Zicfilp**: 着陆垫（Landing Pads）。
- **Zicfiss**: 影子栈（Shadow Stack）。
- **Zvfh**: 向量半精度浮点。
- **Zfbfmin**: 标量 BF16 转换。
- **Zvfbfmin**: 向量 BF16 转换。
- **Zvfbfwma**: 向量 BF16 宽化乘加。

##### 过渡性可选扩展

RVA23U64 中没有过渡性可选扩展。

> 注意：标量加密在 RVA23U64 中不再是选项，尽管 Zbc 扩展现在作为扩展性选项被保留。

#### RVA23U64 推荐实践

强烈建议实现在尝试执行未实现的指令码时，触发非法指令异常。

### RVA23S64 Profile

RVA23S64 Profile 规定了在 64 位应用处理器中，可用于监督者模式执行环境的 ISA 特性。RVA23S64 基于特权架构版本 1.13。

#### RVA23S64 强制基础

RV64I 是 RVA23S64 的强制基础 ISA，并采用小端（little-endian）字节序。`ECALL` 指令的操作遵循非特权架构规范。在用户模式下的 `ECALL` 会导致一次受控的陷入，进入监督者模式。在监督者模式下的 `ECALL` 会向执行环境请求一次陷入。

#### RVA23S64 强制扩展

以下非特权扩展是强制性的：

- RVA23S64 的强制非特权扩展包含了 RVA23U64 中的所有强制非特权扩展。
- **Zifencei**: 指令获取栅栏。
  > 注意：强制要求 Zifencei 是因为它是 RVA23 应用处理器中支持指令缓存一致性的唯一标准方法。一个新的指令缓存一致性机制（暂定名为 Zjid）正在开发中，未来可能作为选项加入。

以下特权扩展是强制性的：

- **Ss1p13**: 监督者架构版本 1.13。
  > 注意：Ss1p13 取代了 Ss1p12。

以下是继承自 RVA22S64 的强制特权扩展：

- **Svbare**: 必须支持 `satp` 的 Bare 模式。
- **Sv39**: 基于页的 39 位虚拟内存系统。
- **Svade**: 当访问一个 A 位（Accessed bit）被清除的页面，或写入一个 D 位（Dirty bit）被清除的页面时，会触发页错误异常。
- **Ssccptr**: 具有可缓存性和一致性 PMA 属性的主内存区域必须支持硬件页表读取。
- **Sstvecd**: `stvec.MODE` 必须能够设置为 0 (Direct)。当 `stvec.MODE=Direct` 时，`stvec.BASE` 必须能够存储任何有效的四字节对齐地址。
- **Sstvala**: 对于加载、存储、指令的页错误、访问错误、非对齐异常，以及除 `EBREAK` 或 `C.EBREAK` 指令外的断点异常，`stval` 必须被写入出错的虚拟地址。对于虚拟指令和非法指令异常，`stval` 必须被写入出错的指令。
- **Sscounterenw**: 对于任何非只读零的 `hpmcounter`，`scounteren` 中对应的位必须是可写的。
- **Svpbmt**: 基于页的内存类型。
- **Svinval**: 细粒度地址转换缓存失效。

以下是新增的强制扩展：

- **Svnapot**: NAPOT 转换连续性。
  > 注意：Svnapot 在 RVA22 中是可选的。

- **Sstc**: 监督者模式计时器中断。
  > 注意：Sstc 在 RVA22 中是可选的。

- **Sscofpmf**: 计数溢出和基于模式的过滤。

- **Ssnpm**: 指针屏蔽，`senvcfg.PMM` 和 `henvcfg.PMM` 至少支持 `PMLEN=0` 和 `PMLEN=7` 的设置。

- **Ssu64xl**: `sstatus.UXL` 必须能够设置为 2（即，必须支持 `UXLEN=64`）。
  > 注意：Ssu64xl 在 RVA22 中是可选的。

- **Sha**: 增强型虚拟化（Hypervisor）扩展。
  > 注意：Sha 是一个新的 Profile 定义扩展，它囊括了与 H 扩展一起被强制要求支持的全套特性。这并没有改变在 Profile 中包含虚拟化扩展所增加的特性——这个新名称仅仅是为了简化 Profile 的文本。该定义已被添加到首次引入虚拟化扩展的 RVA22 Profile 文本中，但未来将被添加到合并后 ISA 手册的虚拟化章节。

**Sha** 包含以下扩展：

- **H**: 虚拟化扩展。
- **Ssstateen**: 监督者模式视角的 state-enable 扩展。必须提供监督者模式 (`sstateen0-3`) 和虚拟化模式 (`hstateen0-3`) 的 state-enable 寄存器。
- **Shcounterenw**: 对于任何非只读零的 `hpmcounter`，`hcounteren` 中对应的位必须是可写的。
- **Shvstvala**: 在上述为 `stval` 描述的所有情况下，`vstval` 都必须被写入。
- **Shtvala**: `htval` 必须在 ISA 允许的所有情况下被写入出错的客户机物理地址。
- **Shvstvecd**: `vstvec.MODE` 必须能够设置为 0 (Direct)。当 `vstvec.MODE`=Direct 时，`vstvec.BASE` 必须能够存储任何有效的四字节对齐地址。
- **Shvsatpa**: `satp` 中支持的所有转换模式都必须在 `vsatp` 中得到支持。
- **Shgatpa**: 对于 `satp` 中支持的每个虚拟内存方案 SvNN，相应的 hgatp SvNNx4 模式必须得到支持。`hgatp` 的 Bare 模式也必须支持。

> 注意：增强型虚拟化扩展（与 Sha 完全等效）在 RVA22 中是可选的。

#### RVA23S64 可选扩展

##### 地域性可选扩展

RVA23S64 中没有特权的地域性可选扩展。

##### 发展中可选扩展

RVA23S64 中没有特权的发展中可选扩展。

##### 扩展性可选扩展

以下是继承自 RVA22S64 的特权扩展性可选扩展：

- **Sv48**: 基于页的 48 位虚拟内存系统。
- **Sv57**: 基于页的 57 位虚拟内存系统。
- **Zkr**: 熵源 CSR。

以下是 RVA23S64 中新增的特权扩展性可选扩展：

- **Svadu**: 硬件 A/D 位更新。
- **Sdtrig**: 调试触发器。
- **Ssstrict**: 不存在非标准扩展。尝试在标准或保留编码空间执行未实现的指令码或访问未实现的 CSR，会触发一个非法指令异常，导致一次受控的陷入到监督者模式的陷阱处理程序。
  > 注意：Ssstrict 是一个新的 Profile 定义扩展，它限制了保留编码空间的行为。该扩展将添加到特权架构的监督者章节。
  > 注意：Ssstrict 不对自定义编码空间或 CSR 的行为进行规定。
  > 注意：Ssstrict 的定义适用于声称与 RVA23 兼容的执行环境，该环境必须具备虚拟化扩展。该执行环境将进行一次受控的陷入到监督者模式（无论该陷入如何实现，包括但不限于在外部执行环境中进行仿真/委托）。Ssstrict（以及所有其他 RVA23 的强制和可选要求）不适用于由 hypervisor 运行的任何客户机虚拟机。一个 RVA23 hypervisor 可以提供同样与 RVA23 兼容但仿真了更多标准指令的客户机虚拟机。一个 RVA23 hypervisor 也可以选择实现不与 RVA23 兼容的客户机虚拟机（例如，缺少 H 扩展，或者只是 RVA20）。

- **Svvptc**: 从无效到有效的 PTE（页表项）转换，将在有限时间内可见，无需显式的内存管理栅栏。
- **Sspm**: 监督者模式指针屏蔽，监督者执行环境至少需提供选择 `PMLEN=0` 和 `PMLEN=7` 的方式。

##### 过渡性可选扩展

RVA23S64 中没有特权的过渡性可选扩展。

#### RVA23S64 推荐实践

- 强烈建议实现在尝试执行未实现的指令码或访问未实现的 CSR 时，触发非法指令异常。

---

## ISA 扩展术语表

以下非特权 ISA 扩展定义在 [RISC-V 指令集手册](https://github.com/riscv/riscv-isa-manual) 第一卷中。

*   **M** - 整数乘法和除法扩展
*   **A** - 原子指令扩展
*   **F** - 单精度浮点扩展
*   **D** - 双精度浮点扩展
*   **H** - 虚拟化扩展
*   **Q** - 四精度浮点扩展
*   **C** - 压缩指令扩展
*   **B** - 位操作扩展
*   **V** - 向量计算扩展
*   **Zifencei** - 指令获取栅栏扩展
*   **Zicsr** - 控制和状态寄存器访问扩展
*   **Zicntr** - 基础性能计数器扩展
*   **Zihpm** - 硬件性能计数器扩展
*   **Zihintpause** - 暂停提示扩展
*   **Zfh** - 半精度浮点扩展
*   **Zfhmin** - 半精度浮点最小集扩展
*   **Zfinx** - 在 x 寄存器中的单精度浮点扩展
*   **Zdinx** - 在 x 寄存器中的双精度浮点扩展
*   **Zhinx** - 在 x 寄存器中的半精度浮点扩展
*   **Zhinxmin** - 在 x 寄存器中的半精度浮点最小集扩展
*   **Zba** - 地址计算扩展
*   **Zbb** - 位操作扩展
*   **Zbc** - 无进位乘法扩展
*   **Zbs** - 单比特操作扩展
*   **Zk** - 标准标量密码学扩展
*   **Zkn** - NIST 密码学扩展
*   **Zknd** - AES 解密扩展
*   **Zkne** - AES 加密扩展
*   **Zknh** - SHA2 哈希扩展
*   **Zkr** - 熵源扩展
*   **Zks** - 国密密码学扩展
*   **Zksed** - SM4 分组密码扩展
*   **Zksh** - SM3 哈希扩展
*   **Zkt** - 数据执行时序无关扩展
*   **Zicbom** - 缓存块管理扩展
*   **Zicbop** - 缓存块预取扩展
*   **Zicboz** - 缓存块清零扩展
*   **Zawrs** - 等待预留集指令
*   **Zacas** - 原子比较并交换（CAS）指令扩展
*   **Zabha** - 字节和半字原子内存操作扩展
*   **Zbkb** - 用于密码学的位操作扩展
*   **Zbkc** - 用于密码学的无进位乘法扩展
*   **Zbkx** - 交叉置换扩展
*   **Zvbb** - 向量基础位操作
*   **Zvbc** - 向量无进位乘法
*   **Zvkng** - 带 GCM 的 NIST 算法套件
*   **Zvksg** - 带 GCM 的国密算法套件
*   **Zvkt** - 向量数据执行时序无关

以下特权 ISA 扩展定义在 [RISC-V 指令集手册](https://github.com/riscv/riscv-isa-manual) 第二卷中。

*   **Sv32** - 基于页的 32 位虚拟内存扩展
*   **Sv39** - 基于页的 39 位虚拟内存扩展
*   **Sv48** - 基于页的 48 位虚拟内存扩展
*   **Sv57** - 基于页的 57 位虚拟内存扩展
*   **Svpbmt** - 基于页的内存类型
*   **Svnapot** - NAPOT 转换连续性
*   **Svinval** - 细粒度地址转换缓存失效
*   **Hypervisor Extension** - 虚拟化扩展
*   **Sm1p11** / **Sm1p12** - 机器架构 v1.11 / v1.12
*   **Ss1p11** / **Ss1p12** / **Ss1p13** - 监督者架构 v1.11 / v1.12 / v1.13
*   **Sstc** - 监督者模式计时器中断扩展
*   **Sscofpmf** - 计数溢出和基于模式的过滤扩展
*   **Smstateen/Ssstateen** - 状态使能扩展
*   **Svvptc** - 在标记 PTE 有效后无需内存管理指令
*   **Svadu** - 硬件更新 A/D 位

以下扩展尚未被并入 RISC-V 指令集手册；超链接指向其各自的规范。

*   [Zve32x](https://github.com/riscv/riscv-v-spec) - 嵌入式向量计算扩展（32位整数）
*   [Zve32f](https://github.com/riscv/riscv-v-spec) - 嵌入式向量计算扩展（32位整数，32位浮点）
*   [Zve32d](https://github.com/riscv/riscv-v-spec) - 嵌入式向量计算扩展（32位整数，64位浮点）
*   [Zve64x](https://github.com/riscv/riscv-v-spec) - 嵌入式向量计算扩展（64位整数）
*   [Zve64f](https://github.com/riscv/riscv-v-spec) - 嵌入式向量计算扩展（64位整数，32位浮点）
*   [Zve64d](https://github.com/riscv/riscv-v-spec) - 嵌入式向量计算扩展（64位整数，64位浮点）

*   **Ziccif**: 主内存支持指令获取并满足原子性要求
*   **Ziccrse**: 主内存支持 LR/SC 序列的前向进展
*   **Ziccamoa**: 主内存支持 A 扩展中的所有原子操作
*   **Ziccamoc**: 主内存支持 Zacas 扩展中的原子操作
*   **Zicclsm**: 主内存支持非对齐加载/存储
*   **Zama16b**: 对主内存区域不跨越 16 字节自然对齐边界的非对齐加载、存储和 AMO 是原子的
*   **Za64rs**: 预留集大小最大为 64 字节
*   **Za128rs**: 预留集大小最大为 128 字节
*   **Zic64b**: 缓存块大小为 64 字节
*   **Svbare**: 支持 Bare 模式的虚拟内存转换
*   **Svade**: 在 A/D 位不当时触发异常
*   **Ssccptr**: 主内存支持页表读取
*   **Sscounterenw**: 支持对任何已实现的计数器进行写使能
*   **Sstvecd**: `stvec` 支持 Direct 模式
*   **Sstvala**: `stval` 提供所有需要的值
*   **Ssu64xl**: 必须支持 UXLEN=64
*   **Sha**: 增强型虚拟化扩展
*   **Shcounterenw**: 支持对任何已实现的计数器进行写使能
*   **Shvstvala**: `vstval` 提供所有需要的值
*   **Shtvala**: `htval` 提供所有需要的值
*   **Shvstvecd**: `vstvec` 支持 Direct 模式
*   **Shvsatpa**: `vsatp` 支持 `satp` 支持的所有模式
*   **Shgatpa**: 对于 `satp` 支持的所有模式，都支持 SvNNx4 模式，以及 Bare 模式
*   **Ssstrict**: 未实现的保留编码会触发非法指令异常，且不存在非标准扩展

***

## 🚀 技术圆桌

这份详尽的 RVA23 规范为 RISC-V 的未来发展描绘了清晰的蓝图。它不仅是硬件设计师的指南，更是整个软件生态的基石。我们诚邀各位开发者、架构师和技术爱好者一同分享您的见解：

1.  **向量扩展 (V) 成为强制要求，您认为这对 RISC-V 在 AI、科学计算和多媒体处理领域的生态发展意味着什么？会给软件开发者带来哪些机遇和挑战？**
2.  **从 RVA22 到 RVA23，许多可选扩展（如 V, Sstc, Svnapot）变为了强制。您如何看待这种“收紧”趋势？这是 RISC-V 走向成熟的必经之路，还是在某种程度上牺牲了其最初的“模块化”灵活性？**
3.  **对于硬件厂商而言，实现完整的 RVA23 规范（尤其是包含 V 和 H 扩展）的技术门槛和成本如何？这会如何影响未来 RISC-V 芯片市场的格局？**
4.  **展望未来，您认为下一个版本的应用 Profile (RVA2x) 最应该将哪些“发展中”或“扩展性”选项变为强制要求？比如 Zacas (CAS原子操作)，Zabha (半字/字节原子操作) 或是其他您认为至关重要的特性？**

欢迎在评论区留下您的真知灼见，让我们共同探讨 RISC-V 的星辰大海！